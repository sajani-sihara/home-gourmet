<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <link rel="stylesheet" href="./styles/home.css">
    <script src="https://checkout.stripe.com/checkout.js"></script>
    <!-- <link href="https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet"> -->
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <title>Home Gourmet</title>
</head>

<body>
    <div data-role="page" id="Checkout">
        <div id="hg-header" data-role="header" data-position="fixed">

            <div class="hg-logo-div">
                <a id="hg-icon-btn-back" href="./shopping-cart.html" data-transition="slide" class="ui-btn" data-direction="reverse"><i
                        data-feather="chevron-left"></i></a>
                <a class="hg-button" id="logo-btn" href="home.html" target="_self" class="ui-btn"><img src="./images/Logo.png" height="62.56px"></a>
            </div>
            <div class="hg-header-icon-div">
                <a href="#Page2" class="ui-btn" id="hg-icon-btn"><i data-feather="user"></i></a>
                <a href="#Page2" class="ui-btn" id="hg-icon-btn"><i data-feather="shopping-cart"></i></a>
                <a href="#Menu" data-transition="slide" class="ui-btn" id="hg-icon-btn-right"><i
                        data-feather="menu"></i></a>
            </div>

        </div>

        <div role="main" id="hg-main">
            <div style="margin:10px;">
                <h2 class="hg-main-food-item-heading inline">Checkout</h2>
            </div>


            <div class="row">
                <div class="hg-view-order-main-text inline">Delivery location </br>
                    <p style="margin-top:5px; font-family: 'Roboto', sans-serif; font-weight: 400; color: #2A2B2E; font-size: small;">30A, Horton Avenue, Dulwich</p>
                </div>
                <div class="hg-view-order-amount right">Change</div>
            </div>

            <div class="row" style="margin-bottom: 0;">
                <div class="hg-view-order-main-text inline">Payment method </div>
                <div class="hg-view-order-amount right">Add new</div>
                <div style="margin-left: 10px; width: 90%; ">
                    <form>

                        <fieldset data-role="controlgroup">
                            <input type="radio" name="radio-choice-v-2" id="radio-choice-v-2a" value="on" checked="checked">
                            <label for="radio-choice-v-2a" style="font-family: 'Roboto', sans-serif; font-weight: bolder; color: #2A2B2E; font-size: small;">PayPal</label>
                            <input type="radio" name="radio-choice-v-2" id="radio-choice-v-2b" value="off">
                            <label for="radio-choice-v-2b" style="font-family: 'Roboto', sans-serif; font-weight: bolder; color: #2A2B2E; font-size: small;">Credit card </label>
                            <input type="radio" name="radio-choice-v-2" id="radio-choice-v-2c" value="other">
                            <label for="radio-choice-v-2c" style="font-family: 'Roboto', sans-serif; font-weight: bolder; color: #2A2B2E; font-size: small;">Cash on delivery </label>
                        </fieldset>
                    </form>
                </div>
            </div>

            <div class="row">
                <div class="hg-view-order-main-text inline" style="margin-bottom: 10px;">Order summary</div>
                <div>
                    <div class="hg-food-item-text cart inline">Crispy chicken burger</div>
                    <div class="hg-food-item-text qty-price right">2 x LKR 600.00</div>
                </div>
            </div>
            <div class="row">
                <div class="hg-view-order-main-text inline">Item Total</div>
                <div class="hg-view-order-amount item-tot-cart right">LKR 950.00</div>
            </div>
            <div class="row">
                <div class="hg-view-order-main-text inline">Discount</div>
                <div class="hg-view-order-amount right">LKR 0.00</div>
            </div>

            <div class="row">
                <div class="hg-view-order-main-text inline">Delivery</div>
                <div class="hg-view-order-amount right">LKR 100.00</div>
            </div>
            <div class="row-total">
                <div style="display:flex;">
                    <div style="float: left; width: 50%;">
                        <p style=" font-family: 'Poppins', sans-serif;font-weight: 400; font-size: small; margin-top: 0; margin-bottom: 10px;">Total Cost</p>
                        <p class="total-cost-cart" style=" font-family: 'Poppins', sans-serif;font-weight: 600; font-size: medium; margin-top: 0; color: #00567B;">LKR 600.00</p>
                    </div>
                    <div style="float: right; width: 50%;">
                        <a id="hg-order-btn" class="ui-btn">Confirm and pay</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- <div id="nonmodel">
            Successfully placed order!
        </div> -->

        <!-- Comment Added Dialog -->
        <div data-role="page" id="comment-added-dialog" data-dialog="true" data-close-btn="none" style="position: absolute;margin-top: 40%;">
            <div data-role="header" id="hg-dialog-header">
                <img class="hg-dialog-main-img" src="./images/dialog-tick.png">
                <h2 class="hg-dialog-main-heading" style="font-family: 'Poppins', sans-serif;
                font-weight: 400;
                font-size: large;
                padding-left: 20px;float: right !important; margin: 10% 20% 0% 0% !important;">Order was placed!</h2>
            </div>
            <div class="ui-content" style="background-color: white; z-index: 1000;" role="main">

                <div class="hg-dialog-text">Your payment has been successfully done. Thank you for purchasing with us.
                </div>
                <div class="hg-order-view-btn">
                    <a id="hg-success-comment-btn" class="ui-btn">Cancel</a>
                </div>
            </div>
        </div>

        <!--Footer-->
        <div id="hg-footer" data-role="footer">

            <div class="container">
                <div class="nav-wrapper">
                    <nav class="nav">
                        <ul class="nav-list ul-reset">
                            <li class="nav-item">
                                <div class="nav-item-inner">
                                    <a href="#" class="nav-item-inner-heading plus">
                                        <p id="hg-footer-heading">About</p>
                                    </a>
                                    </a>
                                    <ul class="nav-sub-list ul-reset">
                                        <div class="nav-sub-list-inner">
                                            <li class="nav-sub-item">
                                                <p>Founded in 2020, Home Gourmet is the most widely used home-cooked food delivery app in Sri Lanka today. <u>Read more</u></p>
                                            </li>
                                        </div>
                                    </ul>
                                </div>
                            </li>
                            <li class="nav-item">
                                <div class="nav-item-inner">
                                    <a href="#" class="nav-item-inner-heading plus">
                                        <p id="hg-footer-heading">Contact</p>
                                    </a>
                                    <ul class="nav-sub-list ul-reset">
                                        <div class="nav-sub-list-inner">
                                            <li class="nav-sub-item">
                                                <p>Email : homegourmet@gmail.com</p>
                                                <p>Mobile : (+94) 77 899 3645</p>
                                            </li>
                                        </div>
                                    </ul>
                                </div>
                            </li>
                            <li class="nav-item">
                                <div class="nav-item-inner">
                                    <a href="#" class="nav-item-inner-heading plus">
                                        <p id="hg-footer-heading">Follow Us</p>
                                    </a>
                                    <ul class="nav-sub-list ul-reset">
                                        <div class="nav-sub-list-inner">
                                            <li class="nav-sub-item">
                                                <p>Instagram </p>
                                                <p>Facebook </p>
                                                <p>Pinterest </p>
                                            </li>
                                        </div>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>


            <div id="hg-footer-links-div">
                <a id="hg-footer-links">Terms and Conditions</a> . <a id="hg-footer-links">Privacy Statement</a>
            </div>
        </div>

    </div>











    <!-- First menu-->
    <div data-role="page" id="Menu">

        <div data-role="header" id="hg-header">
            <div class="hg-menu-logo-div">
                <a class="hg-button" id="logo-btn" href="home.html" target="_self" class="ui-btn"><img src="./images/Logo.png" height="62.56px"></a>
                <a id="hg-icon-btn-right-close" href="#Home" data-transition="slide" class="ui-btn" data-direction="reverse"><i data-feather="x"></i></a>

            </div>

        </div>

        <div role="main" class="ui-content" id="hg-menu" data-transition="slide">

            <div data-role="controlgroup" data-type="vertical">
                <a href="#Menu2" data-transition="slide" class="ui-btn" id="hg-menu-btn">Categories
                    <i id="hg-icon-chevron" data-feather="chevron-right"></i></a>
                <a href="orders.html" class="ui-btn" id="hg-menu-btn">Promotions</a>
                <a href="orders.html" class="ui-btn" id="hg-menu-btn">Rewards Center</a>
                <a href="./orders.html" target="_self" class="ui-btn" id="hg-menu-btn">Orders</a>
                <a href="orders.html" class="ui-btn" id="hg-menu-btn">Favorites</a>
                <a href="./qr-scanner.html" target="_self" class="ui-btn" id="hg-menu-btn">QR Scanner</a>
                <a href="orders.html" class="ui-btn" id="hg-menu-btn">About Us</a>
                <a href="orders.html" class="ui-btn" id="hg-menu-btn">Sign In</a>
            </div>
        </div>


    </div>

    <!-- Second menu-->

    <div data-role="page" id="Menu2">

        <div data-role="header" id="hg-header">
            <div id="hg-menu2-heading-div">
                <h2 id="hg-menu2-heading">Categories</h2>
                <a id="hg-icon-btn-right-close-menu2" href="#Menu" data-transition="slide" class="ui-btn" data-direction="reverse"><i data-feather="chevron-left"></i></a>

            </div>

        </div>

        <div role="main" class="ui-content" id="hg-menu" data-transition="slide">

            <div data-role="controlgroup" data-type="vertical">
                <a href="orders.html" class="ui-btn" id="hg-menu-btn">Chinese</a>
                <a href="orders.html" class="ui-btn" id="hg-menu-btn">Bakery</a>
                <a href="orders.html" class="ui-btn" id="hg-menu-btn">Italian</a>
                <a href="orders.html" class="ui-btn" id="hg-menu-btn">Burgers</a>
                <a href="orders.html" class="ui-btn" id="hg-menu-btn">Desserts</a>
                <a href="orders.html" class="ui-btn" id="hg-menu-btn">Drinks</a>
            </div>
        </div>


    </div>



</body>

<script>
    feather.replace()

    function accordion(section, heading, list) {
        $(section).each(function() {
            var act = 'active',
                actClass = '.active',
                that = $(this);

            function tglH() {
                that.find(list).slideToggle(250);
            }

            function open(click) {
                $(click).toggleClass('plus minus');
                tglH();
                that.find(list).addClass(act);
            }

            function close(click) {
                $(click).toggleClass('minus plus');
                tglH();
                that.find(list).removeClass(act);
            }

            if (that.find(list).length == 0) {
                $(this).find(heading).removeClass('plus').addClass('no-sub');
            } else {
                $(this).find(heading).click(function(e) {
                    e.preventDefault();
                });
            }

            $(this).find(heading).click(function() {
                if ($(this).hasClass('minus')) {
                    // close this menu
                    close(this);
                    that.find(list).removeClass(act);
                } else if ($(this).hasClass('plus')) {
                    if ($(heading).hasClass('minus')) {
                        $(heading).each(function() {
                            if (!$(this).hasClass('no-sub')) {
                                $(this).removeClass('minus').addClass('plus');
                            }
                        })
                        $(section).each(function() {
                            if ($(this).find(list).hasClass(act)) {
                                $(actClass).slideToggle(250);
                                $(this).find(list).removeClass(act);
                            }
                        });
                        // open this menu
                        open(this);
                    } else if ($(this).hasClass('plus')) {
                        // open this menu
                        open(this);
                    }
                }
            })
        })
    }
    accordion('.nav-item', '.nav-item-inner-heading', '.nav-sub-list');

    var retrievedItemname = localStorage.getItem('item_name');
    $(".hg-food-item-text.cart").text(retrievedItemname);

    var retrievedItemPrice = localStorage.getItem('total-item-price').split('LKR')[1];
    var retrievedItemQty = localStorage.getItem('item-qty');

    var retrievedItemPriceTot = parseFloat(retrievedItemPrice) + 100
    $(".hg-food-item-text.qty-price").text(retrievedItemQty + " x " + "LKR " + retrievedItemPrice);

    $(".hg-view-order-amount.item-tot-cart").text("LKR " + retrievedItemPrice)

    $(".total-cost-cart").text("LKR " + retrievedItemPriceTot + ".00");;

    $("#hg-success-comment-btn").click(function() {
        $('#comment-added-dialog').hide();
    });

    jQuery(function($) {
        $("#nonmodel").hide();
        var handler = StripeCheckout.configure({
            key: 'pk_test_cp21BcECf4kMMUbSlRlZlsMo',
            image: 'https://stripe.com/img/documentation/checkout/marketplace.png',
            locale: 'auto',
            panelLabel: "Pay",
            allowRememberMe: true,
            shippingAddress: true,
            billingAddress: true,
            zipCode: true,
            token: function(token) {

                window.onbeforeunload = function() {
                    return "";
                }

                if (token.id) {
                    $('#comment-added-dialog').show();
                }
            }
        });

        $('#hg-order-btn').on('click', function(e) {
            handler.open({
                name: 'HomeGourmet',
                currency: 'LKR',
                amount: (parseFloat(localStorage.getItem('total-item-price').split('LKR')[1]) + 100) * 100
            });
            e.preventDefault();
        });

        $(window).on('popstate', function() {
            handler.close();
        });
    });
</script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</html>